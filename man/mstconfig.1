.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.41.1.
.TH MSTCONFIG, "1" "March 2020" "mstconfig, mstflint 4.14.0, built on Mar  3 2020, 14:01:56. Git SHA Hash: N/A" "User Commands"
.SH NAME
mstconfig \- set or query non-volatile configurable options for Mellanox HCAs
.SH DESCRIPTION
.IP
NAME
.IP
mstconfig
.IP
SYNOPSIS
.IP
mstconfig [Options] <Commands> [Parameters]
.IP
DESCRIPTION:
.IP
Allows the user to change some of the device configurations without having to
create and burn a new firmware.
.IP
OPTIONS:
.TP
\fB\-d\fR|\-\-dev <device>
Perform operation for a specified MST device.
.TP
\fB\-b\fR|\-\-db <filename>
Use a specific database file.
.TP
\fB\-f\fR|\-\-file <conf_file>
raw configuration file.
.TP
\fB\-h\fR|\-\-help
Display help message.
.TP
\fB\-v\fR|\-\-version
Display version info.
.TP
\fB\-e\fR|\-\-enable_verbosity
Show default and current configurations.
.TP
\fB\-y\fR|\-\-yes
Answer yes in prompt.
.TP
\fB\-a\fR|\-\-all_attrs
Show all attributes in the XML template
.TP
\fB\-p\fR|\-\-private_key
pem file for private key
.TP
\fB\-u\fR|\-\-key_uuid
keypair uuid
.SH
COMMANDS
.TP
clear_semaphore
clear the tool semaphore.
.TP
i[show_confs]
display information about all configurations.
.TP
q[uery]
query supported configurations.
.TP
r[eset]
reset all configurations to their default value.
.TP
s[et]
set configurations to a specific device.
.TP
set_raw
set raw configuration file.(only Connect\-IB/Connect\-X4/LX.)
.TP
backup
backup configurations to a file (only Connect\-IB/Connect\-X4/LX.). Use set_raw command to restore file.
.TP
gen_tlvs_file
Generate List of all TLVs. TLVs output file name must be specified. (*)
.TP
g[en_xml_template]
Generate XML template. TLVs input file name and XML output file name must be specified. (*)
.TP
xml2raw
Generate Raw file from XML file. XML input file name and raw output file name must be specified. (*)
.TP
raw2xml
Generate XML file from Raw file. raw input file name and XML output file name must be specified. (*)
.TP
xml2bin
Generate Bin file from XML file. XML input file name and bin output file name must be specified. (*)
.TP
create_conf
Generate Configuration file from XML file. XML input file name and bin output file name must be specified. (*)
.TP
apply
Apply a Configuration file. bin input file name must be specified. (*)
.IP
(*) These commands do not require MST device
.IP
To show supported configurations by device type, run show_confs command
.IP
Examples:
.TP
To query configurations
mstconfig \fB\-d\fR 04:00.0 query
.TP
To set configuration
mstconfig \fB\-d\fR 04:00.0 set SRIOV_EN=1 NUM_OF_VFS=16 WOL_MAGIC_EN_P1=1
.TP
To set raw configuration
mstconfig \fB\-d\fR 05:00.0 \fB\-f\fR conf_file set_raw
.TP
To reset configuration
mstconfig \fB\-d\fR 04:00.0 reset
.IP
Supported devices:
.IP
4th Generation devices: ConnectX3, ConnectX3\-Pro (FW 2.31.5000 and above).
5th Generation devices: ConnectIB, ConnectX4, ConnectX4\-LX, ConnectX5.
.IP
Note: query device to view supported configurations by Firmware.
.SH "SEE ALSO"
The full documentation for
.B mstconfig
is maintained as a Texinfo manual.  If the
.B info
and
.B mstconfig
programs are properly installed at your site, the command
.IP
.B info mstconfig
.PP
should give you access to the complete manual.
